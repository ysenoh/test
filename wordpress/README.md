# 概要
wordpressに関する覚え書き、その他。  

+ [WordPress 日本語マニュアル](http://wpdocs.osdn.jp/Main_Page)

# 子テーマ
+ [子テーマ](https://wpdocs.osdn.jp/%E5%AD%90%E3%83%86%E3%83%BC%E3%83%9E)参照。  
+ CSSにはtemplateの行だけあれば、ひとまず動作する。
+ functions.php で  wp_enqueue_style の処理をしないと、親テーマのCSSは読み込まれない事に注意。
+ 画像などは、子テーマのフォルダに置いても反映されない。
  + これは get_template_directory_uri() は親テーマのuriを戻すから。
  + 子テーマのフォルダを参照させるには、get_stylesheet_directory_uri() を使用する必要がある。


# ユーザプロファイル
+ ユーザプロファイルの項目を追加するには、+ user_contactmethods に add_filter する。
  + DB定義の変更は不要。(多分 wp_usermetaで管理している)
  + この値は、the_author_meta()で取得できる。


# カスタム投稿
+ そもそも、いわゆる投稿だけでなく、固定ページも内部的には「投稿」である。
+ カスタム投稿は、例えばメンバーや製品などを、１つのカスタム投稿タイプとして扱うものである。
+ カスタム投稿の追加は　register_post_type() で行う。
  + DBの更新は不要。
  + 追加の項目はカスタムフィールドで行う。
+ カスタム投稿を定義したときは、パーマネントリンクの設定画面で、一度設定を変えてから元に戻す。
  + そうしないと、内部的にリンクの設定がされないらしく、カスタム投稿の個別ページを表示できない。
+ カスタム投稿タイプは、$post->post_typeで取得できる。($postはグローバル変数)
+ カスタム投稿の個別ページは、single-{カスタム投稿タイプ名}.php でカスタマイズできる。(テンプレート階層)
  + アーカイブも同様
+ カスタム投稿には、タクソノミーを設定することができる。
  + タクソノミーは、分類と言うより、親子関係があるタグ？(まだ良くわからない)
  + タクソノミーの定義は、register_taxonomy で行う。

# 固定ページ
+ 固定ページをカスタマイズするには、slugによるものと、テンプレートを使用するものがある。
  + slugによるものは、page-{slug}.php 
  + テンプレートは、phpのファイルのコメントに  Template Name: テンプレート名 を記述する
    + 固定ページの登録画面でテンプレートとして選択できるようになる




